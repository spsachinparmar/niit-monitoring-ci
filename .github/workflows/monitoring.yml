name: NIIT Monitoring CI

on:
  workflow_dispatch:
  schedule:
    - cron: "30 4 * * *"   # Runs at 10:00 AM IST (04:30 UTC)

jobs:
  run-job:
    runs-on: ubuntu-latest

    steps:
      # 1️⃣ Checkout the repo
      - name: Checkout repo
        uses: actions/checkout@v4

      # 2️⃣ Install Google Chrome
      - name: Install Google Chrome
        run: |
          sudo apt update
          sudo apt install -y wget jq unzip
          wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb
          sudo apt install -y ./google-chrome-stable_current_amd64.deb
          google-chrome --version

      # 3️⃣ Install Matching ChromeDriver (Chrome for Testing)
      - name: Install Matching ChromeDriver
